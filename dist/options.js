(()=>{"use strict";class e{constructor(t="g",a="e",s="b",n="google",c="googleTrans",o="en",l="zh-CN"){this.searchKey=t,this.translateKey=a,this.jumpToLinkKey=s,this.searchEngine=n,this.translateSite=c,this.translateFrom=o,this.translateTo=l,this.chromeGet=e=>{let t=this;chrome.storage.sync.get(e,(function(a){let s;switch(e){case"searchKey":s=a[e]||"g",t.optionSelect(e,s);break;case"translateKey":s=a[e]||"e",t.optionSelect(e,s);break;case"jumpToLinkKey":s=a[e]||"b",t.optionSelect(e,s);break;case"translateFrom":s=a[e]||"en",t.optionSelect(e,s);break;case"translateTo":s=a[e]||"zh-CN",t.optionSelect(e,s);break;case"searchEngine":s=a[e]||"google",t.checkboxCheck(s);break;case"translateSite":s=a[e]||"googleTrans",t.checkboxCheck(s)}}))};for(let t of e.keyMap)this.chromeGet(t)}optionSelect(e,t){let a=document.getElementById(e).options;for(let e=0;e<a.length;e++)t==a[e].value&&(a[e].selected=!0)}checkboxCheck(e){document.getElementById(e).checked=!0}}e.keyMap=["searchKey","translateKey","jumpToLinkKey","translateFrom","translateTo","searchEngine","translateSite"],new e;let t=document.getElementById("save");t.addEventListener("click",(function(){let e=document.getElementById("searchKey"),a=e.value;e=document.getElementById("translateKey");let s=e.value;e=document.getElementById("jumpToLinkKey");let n=e.value;e=document.querySelector("input[name=searchEngine]:checked");let c=e.value;e=document.querySelector("input[name=translateSite]:checked");let o=e.value;e=document.getElementById("translateFrom");let l=e.value;e=document.getElementById("translateTo");let r=e.value;t.classList.remove("primary"),t.classList.add("secondary"),chrome.storage.sync.set({searchKey:a,translateKey:s,jumpToLinkKey:n,searchEngine:c,translateSite:o,translateFrom:l,translateTo:r},(function(){let e=document.getElementById("messageArea");e.classList.remove("hidden"),e.classList.add("positive"),e.classList.add("animated"),e.classList.add("fadeInDown"),window.setTimeout((function(){e.classList.remove("positive"),e.classList.remove("animated"),e.classList.remove("fadeInDown"),e.classList.add("hidden"),t.classList.remove("secondary"),t.classList.add("primary")}),2e3)}))}))})();